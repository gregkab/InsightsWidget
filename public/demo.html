<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Insight Widget Demo</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
  <link rel="stylesheet" href="widget/styles.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      line-height: 1.6;
      color: #333;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }
    
    header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    h1 {
      color: #333;
      margin-bottom: 10px;
    }
    
    h2 {
      color: #555;
      margin: 30px 0 15px;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }
    
    .description {
      font-size: 18px;
      color: #666;
      margin-bottom: 30px;
    }
    
    article {
      margin-bottom: 40px;
    }
    
    .demo-controls {
      background-color: #f9f9f9;
      padding: 20px;
      border-radius: 6px;
      margin-bottom: 30px;
    }
    
    .demo-controls h3 {
      margin-top: 0;
    }
    
    .control-group {
      margin-bottom: 15px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
    }
    
    select, button {
      padding: 8px 12px;
      border-radius: 4px;
      border: 1px solid #ddd;
      background-color: white;
    }
    
    button {
      background-color: #5a7eff;
      color: white;
      border: none;
      cursor: pointer;
      font-weight: 500;
    }
    
    button:hover {
      background-color: #4a69d9;
    }
    
    code {
      background-color: #f5f5f5;
      padding: 2px 4px;
      border-radius: 3px;
    }
    
    pre {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
    }
    
    .dynamic-demo {
      border: 1px dashed #ccc;
      padding: 20px;
      margin: 20px 0;
      border-radius: 5px;
    }
    
    .content-controls {
      margin-top: 15px;
    }
    
    #dynamic-content {
      min-height: 80px;
    }
    
    .feature-list {
      list-style: none;
      padding-left: 0;
    }
    
    .feature-list li {
      padding: 8px 0;
      border-bottom: 1px solid #f0f0f0;
    }
    
    .feature-list li:last-child {
      border-bottom: none;
    }
    
    .new-feature {
      background-color: #f0fff4;
      border-left: 3px solid #38a169;
      padding-left: 10px;
    }
  </style>
</head>
<body>
  <header>
    <h1>AI Insight Widget Demo</h1>
    <p class="description">Demonstrate how the AI Insight Widget analyzes content to provide intelligent insights.</p>
  </header>
  
  <div class="demo-controls">
    <h3>Widget Configuration</h3>
    <div class="control-group">
      <label for="theme-selector">Theme:</label>
      <select id="theme-selector">
        <option value="light">Light</option>
        <option value="dark">Dark</option>
      </select>
    </div>
    <div class="control-group">
      <label for="mode-selector">Mode:</label>
      <select id="mode-selector">
        <option value="auto">Auto (analyze immediately)</option>
        <option value="manual">Manual (analyze on click)</option>
      </select>
    </div>
    <div class="control-group">
      <label for="dynamic-selector">Dynamic Content Support:</label>
      <select id="dynamic-selector">
        <option value="true">Enabled</option>
        <option value="false">Disabled</option>
      </select>
    </div>
    <div class="control-group">
      <label for="smart-detection-selector">Smart Content Detection:</label>
      <select id="smart-detection-selector">
        <option value="true">Enabled</option>
        <option value="false">Disabled</option>
      </select>
    </div>
    <button id="apply-settings">Apply Settings</button>
  </div>
  
  <article data-selector>
    <h2>Understanding Artificial Intelligence</h2>
    <p>
      Artificial Intelligence (AI) refers to the simulation of human intelligence in machines that are programmed to think and learn like humans. 
      The term may also be applied to any machine that exhibits traits associated with a human mind such as learning and problem-solving.
    </p>
    <p>
      The ideal characteristic of artificial intelligence is its ability to rationalize and take actions that have the best chance of achieving a specific goal. 
      Machine learning, a subset of AI, is based on the idea that systems can learn from data, identify patterns, and make decisions with minimal human intervention.
    </p>
    <p>
      Some of the key components of AI include:
    </p>
    <ul>
      <li><strong>Machine Learning</strong>: The ability for computers to learn without being explicitly programmed</li>
      <li><strong>Neural Networks</strong>: Computing systems vaguely inspired by the biological neural networks that constitute animal brains</li>
      <li><strong>Deep Learning</strong>: Part of a broader family of machine learning methods based on artificial neural networks</li>
      <li><strong>Natural Language Processing</strong>: The ability of computers to understand, interpret, and generate human language</li>
    </ul>
  </article>
  
  <article data-selector>
    <h2>The Future of AI Technology</h2>
    <p>
      As AI continues to evolve, it promises to transform industries and change the way we live and work. 
      From autonomous vehicles to healthcare diagnostics, AI is already making an impact across various sectors.
    </p>
    <p>
      However, the rapid advancement of AI also raises important ethical questions and challenges regarding privacy, security, job displacement, and decision-making accountability.
      Ensuring that AI systems are developed responsibly and with human values in mind will be crucial for its continued growth and acceptance.
    </p>
    <p>
      Experts predict that in the coming decades, AI will become increasingly integrated into our daily lives, 
      potentially leading to significant societal changes and new paradigms in how we interact with technology.
    </p>
  </article>
  
  <!-- Dynamic Content Demo -->
  <h2>Dynamic Content Demo</h2>
  <p>
    This section demonstrates how the widget works with dynamically changing content.
    Try adding or modifying content, and see how the widget detects these changes.
  </p>
  
  <div class="dynamic-demo" data-selector>
    <h3>Dynamic Content Area</h3>
    <div id="dynamic-content">
      <p>This content can be changed dynamically. Try adding or editing text here.</p>
    </div>
    <div class="content-controls">
      <button id="add-content">Add Content</button>
      <button id="replace-content">Replace Content</button>
      <button id="clear-content">Clear Content</button>
    </div>
  </div>
  
  <!-- Form Demo -->
  <h2>Form Input Demo</h2>
  <p>
    This form demonstrates how the widget captures form input data.
    Fill out the form, and the widget will include this data in its analysis.
  </p>
  
  <form data-selector>
    <div class="control-group">
      <label for="name-input">Your Name:</label>
      <input type="text" id="name-input" name="name" placeholder="Enter your name">
    </div>
    <div class="control-group">
      <label for="feedback-input">Feedback:</label>
      <textarea id="feedback-input" name="feedback" rows="4" placeholder="Enter your feedback about AI"></textarea>
    </div>
    <div class="control-group">
      <label>AI Experience Level:</label>
      <label style="display: inline-block; margin-right: 15px;">
        <input type="radio" name="experience" value="beginner"> Beginner
      </label>
      <label style="display: inline-block; margin-right: 15px;">
        <input type="radio" name="experience" value="intermediate"> Intermediate
      </label>
      <label style="display: inline-block;">
        <input type="radio" name="experience" value="advanced"> Advanced
      </label>
    </div>
    <div class="control-group">
      <label for="interest-selector">Primary Interest in AI:</label>
      <select id="interest-selector" name="interest">
        <option value="">-- Select an area --</option>
        <option value="nlp">Natural Language Processing</option>
        <option value="cv">Computer Vision</option>
        <option value="rl">Reinforcement Learning</option>
        <option value="other">Other</option>
      </select>
    </div>
  </form>
  
  <section>
    <h2>Widget Integration</h2>
    <p>Adding the AI Insight Widget to your site is easy. Just include the following code:</p>
    <pre><code>&lt;link rel="stylesheet" href="path/to/widget/styles.css"&gt;
&lt;script src="path/to/widget/widget.js" 
  data-api="https://your-api-url.com" 
  data-selector="[data-selector]" 
  data-theme="light" 
  data-mode="auto"
  data-dynamic="true"
  data-smart-detection="true"&gt;&lt;/script&gt;</code></pre>
  </section>
  
  <section>
    <h2>New Features</h2>
    <p>The AI Insight Widget now includes the following advanced features:</p>
    <ul class="feature-list">
      <li class="new-feature"><strong>Smart Content Detection</strong>: Automatically finds relevant content on the page even without data-selector attributes</li>
      <li class="new-feature"><strong>Dynamic Content Support</strong>: Monitors the page for content changes using MutationObserver</li>
      <li class="new-feature"><strong>Form Data Capture</strong>: Captures data from forms as part of the content analysis</li>
      <li class="new-feature"><strong>Content Change Notification</strong>: Alerts you when content has changed and offers quick reanalysis</li>
      <li class="new-feature"><strong>Performance Optimization</strong>: Smart handling of content updates to prevent unnecessary analysis</li>
    </ul>
  </section>
  
  <script src="widget/widget.js" data-api="http://localhost:8000" data-selector="[data-selector]" data-theme="light" data-mode="auto" data-dynamic="true" data-smart-detection="true"></script>
  
  <script>
    // Demo controls
    document.getElementById('apply-settings').addEventListener('click', function() {
      const theme = document.getElementById('theme-selector').value;
      const mode = document.getElementById('mode-selector').value;
      const dynamic = document.getElementById('dynamic-selector').value;
      const smartDetection = document.getElementById('smart-detection-selector').value;
      
      // Reinitialize widget with new settings
      if (window.aiInsightWidget) {
        // Remove existing widget
        document.querySelector('.ai-insight-widget').remove();
      }
      
      // Create new widget
      window.aiInsightWidget = new AIInsightWidget({
        apiUrl: 'http://localhost:8000',
        selector: '[data-selector]',
        theme: theme,
        mode: mode,
        dynamicContentSupport: dynamic === 'true',
        smartContentDetection: smartDetection === 'true'
      });
      
      console.log(`Applied settings: theme=${theme}, mode=${mode}, dynamic=${dynamic}, smartDetection=${smartDetection}`);
    });
    
    // Dynamic content demo
    const dynamicContent = document.getElementById('dynamic-content');
    let contentCounter = 1;
    
    document.getElementById('add-content').addEventListener('click', function() {
      const newParagraph = document.createElement('p');
      newParagraph.textContent = `This is dynamically added content #${contentCounter++}. The widget will detect this change.`;
      dynamicContent.appendChild(newParagraph);
    });
    
    document.getElementById('replace-content').addEventListener('click', function() {
      dynamicContent.innerHTML = `
        <p>This content has been completely replaced at ${new Date().toLocaleTimeString()}.</p>
        <p>The AI Insight Widget will detect this change and offer to reanalyze the content.</p>
      `;
    });
    
    document.getElementById('clear-content').addEventListener('click', function() {
      dynamicContent.innerHTML = '';
    });
  </script>
</body>
</html> 